<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Box Explorer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        header {
            background: #333;
            color: white;
            padding: 15px;
        }
        input {
            padding: 10px;
            width: 80%;
            max-width: 400px;
            margin: 10px 0;
        }
        button {
            padding: 10px;
            cursor: pointer;
        }
        main {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        section {
            margin: 20px;
        }
        .movie {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            background: white;
            width: 200px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Movie Box @!net</h1>
        <input type="text" id="searchBar" placeholder="Search movies...">
        <button id="searchBtn">Search</button>
    </header>
    
    <main>
        <section id="movies"></section>
        <section id="movieDetails"></section>
        <section id="youtubeResults"></section>
    </main>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const API_KEY = "7bdcdd64";
            const YOUTUBE_API_KEY = "YOUR_YOUTUBE_API_KEY";
            const moviesSection = document.getElementById("movies");
            const movieDetailsSection = document.getElementById("movieDetails");
            const searchBtn = document.getElementById("searchBtn");
            const searchBar = document.getElementById("searchBar");
            const youtubeResults = document.getElementById("youtubeResults");

            async function searchMovies(query) {
                try {
                    let response = await fetch(`http://www.omdbapi.com/?s=${query}&type=movie&apikey=${API_KEY}`);
                    let data = await response.json();
                    if (data.Search) {
                        displayMovies(data.Search);
                    } else {
                        moviesSection.innerHTML = "<p>No movies found.</p>";
                    }
                } catch (error) {
                    console.error("Error fetching movies:", error);
                }
            }

            function displayMovies(movies) {
                moviesSection.innerHTML = "";
                movies.forEach(movie => {
                    let div = document.createElement("div");
                    div.classList.add("movie");
                    div.innerHTML = `<h3>${movie.Title}</h3><img src="${movie.Poster}" alt="${movie.Title}"><p>Year: ${movie.Year}</p>`;
                    div.addEventListener("click", () => fetchMovieDetails(movie.imdbID));
                    moviesSection.appendChild(div);
                });
            }

            async function fetchMovieDetails(movieID) {
                try {
                    let response = await fetch(`http://www.omdbapi.com/?i=${movieID}&apikey=${API_KEY}`);
                    let movie = await response.json();
                    displayMovieDetails(movie);
                    searchYouTube(`${movie.Title} trailer`);
                } catch (error) {
                    console.error("Error fetching movie details:", error);
                }
            }

            function displayMovieDetails(movie) {
                movieDetailsSection.innerHTML = `
                    <h2>${movie.Title}</h2>
                    <img src="${movie.Poster}" alt="${movie.Title}">
                    <p>${movie.Plot}</p>
                    <p><strong>Director:</strong> ${movie.Director}</p>
                    <p><strong>Actors:</strong> ${movie.Actors}</p>
                    <p><strong>Year:</strong> ${movie.Year}</p>
                    <p><strong>IMDB Rating:</strong> ${movie.imdbRating}</p>
                `;
            }

            async function searchYouTube(query) {
                try {
                    let response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${query}&type=video&key=${YOUTUBE_API_KEY}`);
                    let data = await response.json();
                    displayYouTubeResults(data.items);
                } catch (error) {
                    console.error("Error fetching YouTube results:", error);
                }
            }

            function displayYouTubeResults(videos) {
                youtubeResults.innerHTML = "";
                videos.forEach(video => {
                    let div = document.createElement("div");
                    div.innerHTML = `
                        <h3>${video.snippet.title}</h3>
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/${video.id.videoId}" frameborder="0" allowfullscreen></iframe>
                    `;
                    youtubeResults.appendChild(div);
                });
            }

            searchBtn.addEventListener("click", () => {
                let query = searchBar.value;
                if (query) {
                    searchMovies(query);
                }
            });
        });
    </script>
</body>
</html>
